<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>

<AnchorPane prefHeight="600.0" prefWidth="900.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="app.Controller">
   <children>
      <Label layoutX="30.0" layoutY="20.0" style="-fx-font-size: 26px; -fx-font-weight: bold;" text="Apavu E-veikals" />
      
      <HBox alignment="CENTER_RIGHT" layoutX="580.0" layoutY="25.0" spacing="10.0">
         <children>
            <PasswordField fx:id="adminPasswordField" prefWidth="120.0" promptText="Admin Parole" />
            <Button onAction="#handleAdminLogin" text="Admin Login" />
         </children>
      </HBox>

      <HBox alignment="CENTER_LEFT" layoutX="30.0" layoutY="70.0" spacing="10.0">
         <children>
            <Label text="Filtrēt pēc kategorijas:" />
            <ComboBox fx:id="categoryFilter" onAction="#handleFilter" prefWidth="150.0" />
         </children>
      </HBox>

      <TableView fx:id="shoeTable" layoutX="30.0" layoutY="110.0" prefHeight="440.0" prefWidth="540.0">
        <columns>
          <TableColumn prefWidth="160.0" text="Modelis">
              <cellValueFactory><PropertyValueFactory property="name" /></cellValueFactory>
          </TableColumn>
          <TableColumn prefWidth="100.0" text="Kategorija">
              <cellValueFactory><PropertyValueFactory property="category" /></cellValueFactory>
          </TableColumn>
          <TableColumn prefWidth="90.0" text="Cena (€)">
              <cellValueFactory><PropertyValueFactory property="price" /></cellValueFactory>
          </TableColumn>
          <TableColumn prefWidth="80.0" text="Izmērs">
              <cellValueFactory><PropertyValueFactory property="size_eu" /></cellValueFactory>
          </TableColumn>
          <TableColumn prefWidth="90.0" text="Noliktavā">
              <cellValueFactory><PropertyValueFactory property="stockQuantity" /></cellValueFactory>
          </TableColumn>
        </columns>
      </TableView>

      <VBox layoutX="590.0" layoutY="110.0" prefWidth="280.0" spacing="15.0">
         <children>
            <VBox spacing="10.0" style="-fx-padding: 15; -fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 10;">
               <children>
                  <Label style="-fx-font-weight: bold;" text="Pirkuma noformēšana" />
                  <TextField fx:id="custNameInput" promptText="Vārds Uzvārds" />
                  <TextField fx:id="custAddressInput" promptText="Adrese" />
                  <Separator />
                  <Label fx:id="totalLabel" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2ecc71;" text="Total: €0.00" />
                  <Button onAction="#handleAddToCart" prefWidth="250.0" style="-fx-background-color: #3498db; -fx-text-fill: white;" text="Pievienot Grozam" />
                  <Button onAction="#handleCheckout" prefWidth="250.0" style="-fx-background-color: #27ae60; -fx-text-fill: white;" text="Pirkt" />
               </children>
            </VBox>

            <VBox fx:id="employeePanel" spacing="10.0" style="-fx-padding: 15; -fx-background-color: #fff5f5; -fx-border-color: #fab1a0; -fx-border-radius: 10;" visible="false">
               <children>
                  <Label style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;" text="Admin Panelis" />
                  <Button onAction="#handleRestock" prefWidth="250.0" style="-fx-background-color: #e74c3c; -fx-text-fill: white;" text="Papildināt krājumus (+10)" />
               </children>
            </VBox>
         </children>
      </VBox>
   </children>
</AnchorPane>